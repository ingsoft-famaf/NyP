{% extends "base.html" %}
{% block content %}
<div class="progress">
  <div class="progress-bar" role="progressbar" aria-valuenow="70" aria-valuemin="0" aria-valuemax="100" style="width:100%">
		{{ seconds }} sec
  </div>
</div>

{% endblock %}

{% block custom_js %}
<script type="text/javascript">
  var seconds = {{ seconds }};
  var i = seconds;
  var ratio;
  var counterBack = setInterval(function () {
    i--;
    if (i >= 0) {
      ratio = i / seconds * 100;
      $('.progress-bar').css('width', i / seconds * 100 + '%');
	  $('.progress-bar').text(i + ' sec');
      if (ratio < 25) {
		$('.progress-bar').addClass('progress-bar-danger');
	  }
    } else {
      clearInterval(counterBack);
	  $('.progress-bar-danger').text('');
    }
}, 1000);
</script>
{% endblock %}

